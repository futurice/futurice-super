<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/core-ajax/core-ajax.html">
<polymer-element name="x-project-service" attributes="projects">
  <template>
    <style>
      :host {
        display: none;
      }
    </style>
    <core-ajax 
    id="ajax"
    auto
    url="/api/projects.json"
    handleAs="json"
    on-core-response="{{handleResponse}}"></core-ajax>
  </template>
  <script>
    Polymer('x-project-service', {
      projects: [],
      ready: function() {
        this.setFavorite = function (uid, favorite) {
          console.log("UID: "+uid+", favorite: "+favorite);
        };
      },
      handleResponse: function(){
        this.projects = this.$.ajax.response.slice(0);
      }
    });
  </script>
</polymer-element>